<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>From My Heart</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #fff5f5 0%, #fef0ff 100%);
            color: #5a3d5c;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            padding: 20px;
            animation: gentleBgShift 20s ease-in-out infinite;
        }
        
        .container {
            text-align: center;
            max-width: 600px;
            width: 100%;
            padding: 20px;
            animation: gentleFloat 8s ease-in-out infinite;
        }
        
        /* Heart styling and animation */
        .heart-container {
            margin: 0 auto 40px;
            width: 120px;
            height: 120px;
            position: relative;
            animation: gentleFloat 6s ease-in-out infinite;
            animation-delay: 0.5s;
        }
        
        .heart {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #ff6b8b;
            transform: rotate(45deg);
            opacity: 0;
            box-shadow: 0 0 30px rgba(255, 107, 139, 0.2);
            animation: heartbeat 2.5s ease-in-out infinite;
            animation-play-state: paused;
            border-radius: 5px;
        }
        
        .heart:before,
        .heart:after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: inherit;
            border-radius: 50%;
        }
        
        .heart:before {
            top: -50%;
            left: 0;
        }
        
        .heart:after {
            top: 0;
            left: -50%;
        }
        
        /* Glow effect for the heart */
        .heart-glow {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255, 107, 139, 0.15) 0%, rgba(255, 107, 139, 0) 70%);
            animation: gentleGlow 3.5s ease-in-out infinite;
            animation-play-state: paused;
        }
        
        /* Text containers */
        .text-container {
            overflow: hidden;
            margin-bottom: 30px;
        }
        
        .sorry-text {
            font-size: 3.5rem;
            font-weight: bold;
            color: #d45d79;
            margin-bottom: 10px;
            opacity: 0;
            transform: translateY(20px);
            animation: gentleBreathing 5s ease-in-out infinite;
            animation-play-state: paused;
        }
        
        .message-text {
            font-size: 1.5rem;
            color: #7a5c7c;
            line-height: 1.5;
            opacity: 0;
            transform: translateY(20px);
            animation: gentleBreathing 6s ease-in-out infinite;
            animation-play-state: paused;
        }
        
        /* Animations */
        @keyframes heartbeat {
            0%, 100% {
                transform: rotate(45deg) scale(1);
            }
            50% {
                transform: rotate(45deg) scale(1.08);
            }
        }
        
        @keyframes gentleGlow {
            0%, 100% {
                transform: scale(1);
                opacity: 0.4;
            }
            50% {
                transform: scale(1.15);
                opacity: 0.2;
            }
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes typewriter {
            from {
                width: 0;
            }
            to {
                width: 100%;
            }
        }
        
        @keyframes gentleFloat {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-8px);
            }
        }
        
        @keyframes gentleBgShift {
            0%, 100% {
                background: linear-gradient(135deg, #fff5f5 0%, #fef0ff 100%);
            }
            33% {
                background: linear-gradient(135deg, #fff9f5 0%, #fef5ff 100%);
            }
            66% {
                background: linear-gradient(135deg, #fff5ff 0%, #f9f0ff 100%);
            }
        }
        
        @keyframes gentleBreathing {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.01);
            }
        }
        
        @keyframes gentleCursor {
            0%, 100% {
                border-color: transparent;
            }
            50% {
                border-color: rgba(255, 158, 181, 0.7);
            }
        }
        
        /* Typewriter effect for the sorry text */
        .typewriter {
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            border-right: 2px solid rgba(255, 158, 181, 0);
            animation: typewriter 2s ease-in-out forwards, gentleCursor 1.2s ease-in-out infinite;
            animation-delay: 0s;
            animation-play-state: paused;
            padding-right: 5px;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .sorry-text {
                font-size: 3rem;
            }
            
            .message-text {
                font-size: 1.3rem;
            }
            
            .heart-container {
                width: 100px;
                height: 100px;
                margin-bottom: 30px;
            }
            
            .container {
                animation: gentleFloat 10s ease-in-out infinite;
            }
        }
        
        @media (max-width: 480px) {
            .sorry-text {
                font-size: 2.5rem;
            }
            
            .message-text {
                font-size: 1.2rem;
            }
            
            .heart-container {
                width: 85px;
                height: 85px;
                margin-bottom: 25px;
            }
            
            .text-container {
                margin-bottom: 20px;
            }
        }
        
        @media (max-height: 600px) {
            .heart-container {
                width: 80px;
                height: 80px;
                margin-bottom: 20px;
            }
            
            .sorry-text {
                font-size: 2.2rem;
            }
            
            .message-text {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Heart animation container -->
        <div class="heart-container">
            <div class="heart-glow" id="heartGlow"></div>
            <div class="heart" id="heart"></div>
        </div>
        
        <!-- Text containers -->
        <div class="text-container">
            <h1 class="sorry-text" id="sorryText">
                <span class="typewriter" id="typewriter">Sorry</span>
            </h1>
        </div>
        
        <div class="text-container">
            <p class="message-text" id="messageText">With all my heart ❤️</p>
        </div>
    </div>

    <script>
        // Wait for the page to load before starting animations
        document.addEventListener('DOMContentLoaded', function() {
            // Get elements
            const heart = document.getElementById('heart');
            const heartGlow = document.getElementById('heartGlow');
            const sorryText = document.getElementById('sorryText');
            const typewriter = document.getElementById('typewriter');
            const messageText = document.getElementById('messageText');
            
            // Sequence timing in milliseconds
            const heartStartDelay = 800;
            const sorryTextDelay = 2500;
            const messageTextDelay = 4500;
            
            // Heart color animation variables
            let heartHue = 340;
            let colorDirection = 1;
            let lastColorUpdate = 0;
            const colorUpdateInterval = 50; // Update color every 50ms for smoothness
            
            // Start the heart animation after a short delay
            setTimeout(() => {
                // Start heart animations
                heart.style.opacity = '1';
                heart.style.animationPlayState = 'running';
                heartGlow.style.animationPlayState = 'running';
                
                // Smooth color transition for heart using requestAnimationFrame
                function updateHeartColor(timestamp) {
                    if (!lastColorUpdate) lastColorUpdate = timestamp;
                    
                    if (timestamp - lastColorUpdate >= colorUpdateInterval) {
                        // Gentle hue oscillation
                        heartHue += 0.3 * colorDirection;
                        
                        if (heartHue > 350) colorDirection = -1;
                        if (heartHue < 330) colorDirection = 1;
                        
                        const color = `hsl(${heartHue}, 90%, 65%)`;
                        const shadowColor = `hsl(${heartHue}, 90%, 65%, 0.25)`;
                        
                        // Update heart color and shadow
                        heart.style.backgroundColor = color;
                        heart.style.boxShadow = `0 0 30px ${shadowColor}`;
                        
                        // Update pseudo-elements through CSS variables
                        document.documentElement.style.setProperty('--heart-color', color);
                        
                        lastColorUpdate = timestamp;
                    }
                    
                    requestAnimationFrame(updateHeartColor);
                }
                
                // Define heart color variable for pseudo-elements
                document.documentElement.style.setProperty('--heart-color', '#ff6b8b');
                const style = document.createElement('style');
                style.textContent = '.heart:before, .heart:after { background-color: var(--heart-color); }';
                document.head.appendChild(style);
                
                // Start color animation
                requestAnimationFrame(updateHeartColor);
                
            }, heartStartDelay);
            
            // Show "Sorry" text after delay
            setTimeout(() => {
                // Fade in the container with smooth easing
                sorryText.style.animation = 'fadeInUp 1.8s cubic-bezier(0.22, 0.61, 0.36, 1) forwards';
                
                // Start the typewriter effect after a brief pause
                setTimeout(() => {
                    typewriter.style.animationPlayState = 'running';
                    
                    // Enable breathing animation after typewriter completes
                    setTimeout(() => {
                        sorryText.style.animationPlayState = 'running';
                    }, 2000);
                    
                }, 300);
                
            }, sorryTextDelay);
            
            // Show the heartfelt message after another delay
            setTimeout(() => {
                // Smooth fade in with gentle easing
                messageText.style.animation = 'fadeInUp 2s cubic-bezier(0.22, 0.61, 0.36, 1) forwards';
                
                // Enable breathing animation after appearing
                setTimeout(() => {
                    messageText.style.animationPlayState = 'running';
                }, 2000);
                
            }, messageTextDelay);
            
            // Clean up function
            window.addEventListener('beforeunload', function() {
                // No persistent data to clean up
            });
        });
    </script>
</body>
</html>